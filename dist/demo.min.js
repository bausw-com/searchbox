/*! For license information please see demo.min.js.LICENSE.txt */
(()=>{"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function l(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(e){return 0===Object.keys(e).length}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}new Set;let a,d=!1;function h(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function v(){return $(" ")}function y(){return $("")}function b(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function _(e,t,n){e.classList[n?"add":"remove"](t)}class E{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var r;this.e||(this.is_svg?this.e=(r=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=g(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)f(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(p)}}function S(e){a=e}function T(){if(!a)throw new Error("Function called outside component initialization");return a}function L(e){T().$$.on_mount.push(e)}function M(e){T().$$.on_destroy.push(e)}function N(){const e=T();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}new Map;const A=[],I=[],C=[],D=[],j=Promise.resolve();let H=!1;function q(e){C.push(e)}const O=new Set;let W=0;function B(){const e=a;do{for(;W<A.length;){const e=A[W];W++,S(e),R(e.$$)}for(S(null),A.length=0,W=0;I.length;)I.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];O.has(t)||(O.add(t),t())}C.length=0}while(A.length);for(;D.length;)D.pop()();H=!1,O.clear(),S(e)}function R(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const U=new Set;let F,P;function z(){F={r:0,c:[],p:F}}function G(){F.r||r(F.c),F=F.p}function J(e,t){e&&e.i&&(U.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),F.c.push((()=>{U.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function K(e){e&&e.c()}function V(e,n,i,s){const{fragment:l,on_mount:c,on_destroy:u,after_update:a}=e.$$;l&&l.m(n,i),s||q((()=>{const n=c.map(t).filter(o);u?u.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(q)}function Q(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,o,i,s,l,c,u,h=[-1]){const f=a;S(t);const m=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:o.target||f.$$.root};u&&u(m.root);let g=!1;if(m.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&l(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),g&&function(e,t){-1===e.$$.dirty[0]&&(A.push(e),H||(H=!0,j.then(B)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],m.update(),g=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),o.target){if(o.hydrate){d=!0;const e=($=o.target,Array.from($.childNodes));m.fragment&&m.fragment.l(e),e.forEach(p)}else m.fragment&&m.fragment.c();o.intro&&J(t.$$.fragment),V(t,o.target,o.anchor,o.customElement),d=!1,B()}var $;S(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(P=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(o);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){Q(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class Z{$destroy(){Q(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ee{constructor(e){this.scriptUrl=e,this.messageId=0,this.pendingReplies=new Map,this.worker=new Worker(this.scriptUrl),this.worker.onmessage=this.onMessage.bind(this)}destroy(){this.worker&&(this.worker.terminate(),this.worker=null)}async command(e,t){if(!this.worker)throw new Error("Worker destroyed");this.messageId++;const n=this.messageId;return new Promise(((r,o)=>{this.pendingReplies.set(n,{resolve:r,reject:o}),this.worker.postMessage({command:e,id:n,params:t})}))}onMessage(e){const t=e.data;if(t&&t.id){const e=this.pendingReplies.get(t.id);e&&(t.error?e.reject(t.error):e.resolve(t.result),this.pendingReplies.delete(t.id))}}}var te;!function(e){e.ENSURE_INDEX="ensureIndex",e.SUGGESTIONS="suggestions",e.SEARCH="search"}(te||(te={}));class ne{constructor(e){if(this.workerScriptUrl=e,this.workers=new Map,"string"!=typeof e&&e.target)throw new Error("Trying to create an instance of Searchbox class as component; Use SearchboxComponent instead.")}destroyIndex(e){try{this.getWorker(e,!1).destroy()}catch(e){}}getWorker(e,t=!1){const n=this.getWorkerName(e);let r=this.workers.get(n);if(!r&&t)r=new ee(this.workerScriptUrl),this.workers.set(n,r);else if(!r)throw new Error(`Worker for index '${e}' does not exist. Call ensureIndex() first.`);return r}getWorkerName(e){return e}async ensureIndex(e,t){return this.getWorker(e,!0).command(te.ENSURE_INDEX,t)}async suggestions(e,t){return this.getWorker(e).command(te.SUGGESTIONS,{term:t})}async search(e,t,n){return this.getWorker(e).command(te.SEARCH,{options:n,term:t})}}function re(e){let t,n,r,o;const i=e[9].default,s=function(e,t,n,r){if(e){const r=u(e,t,n,null);return e[0](r)}}(i,e,e[8]);return{c(){t=g("div"),s&&s.c(),w(t,"class","searchbox-dropdown")},m(i,l){f(i,t,l),s&&s.m(t,null),e[10](t),n=!0,r||(o=b(t,"mousedown",oe),r=!0)},p(e,[t]){s&&s.p&&(!n||256&t)&&function(e,t,n,r,o,i){if(o){const s=u(t,n,r,i);e.p(s,o)}}(s,i,e,e[8],n?function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(i,e[8],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[8]),null)},i(e){n||(J(s,e),n=!0)},o(e){X(s,e),n=!1},d(n){n&&p(t),s&&s.d(n),e[10](null),r=!1,o()}}}function oe(e){"A"!==e.currentTarget.tagName&&e.preventDefault()}function ie(e,t,n){let r,o,{$$slots:i={},$$scope:s}=t,{align:l="left"}=t,{anchor:c}=t,{offset:u=[0,-1]}=t,{animationDuration:a=350}=t,{pageOffset:d=20}=t,{width:h=null}=t;return M((()=>{c&&c.classList.remove("searchbox-dropdown-visible")})),e.$$set=e=>{"align"in e&&n(1,l=e.align),"anchor"in e&&n(2,c=e.anchor),"offset"in e&&n(3,u=e.offset),"animationDuration"in e&&n(4,a=e.animationDuration),"pageOffset"in e&&n(5,d=e.pageOffset),"width"in e&&n(6,h=e.width),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(r=o&&getComputedStyle(o))},[o,l,c,u,a,d,h,function(){if(c&&o){const e=c.getBoundingClientRect(),t=document.documentElement.clientHeight,i=document.documentElement.clientWidth,s=parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10),f=Math.min(t-2*d,t-d-e.bottom);n(0,o.style.width=`${h||e.width}px`,o),n(0,o.style.top=`${e.bottom+u[1]}px`,o),"right"===l?(n(0,o.style.left="auto",o),n(0,o.style.right=i-(e.right+u[0])+"px",o)):(n(0,o.style.left=`${e.left+u[0]}px`,o),n(0,o.style.right="auto",o)),n(0,o.style.maxHeight=`${f}px`,o);const p=[...o.childNodes].reduce(((e,t)=>t instanceof Element?e+Math.max(t.getBoundingClientRect().height,t.scrollHeight):e),s);n(0,o.style.height=`${Math.min(f,p)}px`,o),c.classList.add("searchbox-dropdown-visible"),setTimeout((()=>{o&&n(0,o.style.height="auto",o)}),a)}},s,i,function(e){I[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}const se=class extends Z{constructor(e){super(),Y(this,e,ie,re,i,{align:1,anchor:2,offset:3,animationDuration:4,pageOffset:5,width:6,position:7})}get position(){return this.$$.ctx[7]}};function le(t){let n;return{c(){n=g("div")},m(e,r){f(e,n,r),t[3](n)},p:e,i:e,o:e,d(e){e&&p(n),t[3](null)}}}function ce(e,t,n){let r,o,{args:i}=t,{renderer:s}=t;var l;return l=()=>{r instanceof Element?o.replaceWith(r):r&&n(0,o.innerHTML=r,o)},T().$$.after_update.push(l),e.$$set=e=>{"args"in e&&n(1,i=e.args),"renderer"in e&&n(2,s=e.renderer)},e.$$.update=()=>{6&e.$$.dirty&&(r=s(...i))},[o,i,s,function(e){I[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}const ue=class extends Z{constructor(e){super(),Y(this,e,ce,le,i,{args:1,renderer:2})}};function ae(e,t,n){const r=e.slice();return r[13]=t[n],r}function de(t){let n,r,o,i,s,l,c,u,a,d,m,$,x,k=t[3].doc.title+"",_=t[3].doc.icon&&fe(t),S=t[5]?.length&&pe(t),T=t[3].doc.snippet&&ge(t),L=!t[1]&&t[3].children?.length&&$e(t);return{c(){n=g("a"),_&&_.c(),r=v(),o=g("div"),i=g("div"),s=new E(!1),l=v(),S&&S.c(),c=v(),T&&T.c(),d=v(),L&&L.c(),m=y(),s.a=l,w(i,"class","searchbox-results-title"),w(n,"href",u=t[3].doc.link),w(n,"class","searchbox-results-link"),w(n,"tabindex","-1"),w(n,"data-ref",a=t[3].ref)},m(e,u){f(e,n,u),_&&_.m(n,null),h(n,r),h(n,o),h(o,i),s.m(k,i),h(i,l),S&&S.m(i,null),h(o,c),T&&T.m(o,null),f(e,d,u),L&&L.m(e,u),f(e,m,u),$||(x=b(n,"click",t[6]),$=!0)},p(e,t){e[3].doc.icon?_?_.p(e,t):(_=fe(e),_.c(),_.m(n,r)):_&&(_.d(1),_=null),8&t&&k!==(k=e[3].doc.title+"")&&s.p(k),e[5]?.length?S?S.p(e,t):(S=pe(e),S.c(),S.m(i,null)):S&&(S.d(1),S=null),e[3].doc.snippet?T?T.p(e,t):(T=ge(e),T.c(),T.m(o,null)):T&&(T.d(1),T=null),8&t&&u!==(u=e[3].doc.link)&&w(n,"href",u),8&t&&a!==(a=e[3].ref)&&w(n,"data-ref",a),!e[1]&&e[3].children?.length?L?L.p(e,t):(L=$e(e),L.c(),L.m(m.parentNode,m)):L&&(L.d(1),L=null)},i:e,o:e,d(e){e&&p(n),_&&_.d(),S&&S.d(),T&&T.d(),e&&p(d),L&&L.d(e),e&&p(m),$=!1,x()}}}function he(e){let t,n;return t=new ue({props:{renderer:e[4],args:[e[3]]}}),{c(){K(t.$$.fragment)},m(e,r){V(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.renderer=e[4]),8&n&&(r.args=[e[3]]),t.$set(r)},i(e){n||(J(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){Q(t,e)}}}function fe(e){let t,n,r;return{c(){t=g("div"),n=g("img"),l(n.src,r=e[3].doc.icon)||w(n,"src",r),w(n,"alt","icon"),w(t,"class","searchbox-results-icon")},m(e,r){f(e,t,r),h(t,n)},p(e,t){8&t&&!l(n.src,r=e[3].doc.icon)&&w(n,"src",r)},d(e){e&&p(t)}}}function pe(e){let t,n=e[5],r=[];for(let t=0;t<n.length;t+=1)r[t]=me(ae(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=y()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);f(e,t,n)},p(e,o){if(32&o){let i;for(n=e[5],i=0;i<n.length;i+=1){const s=ae(e,n,i);r[i]?r[i].p(s,o):(r[i]=me(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){m(r,e),e&&p(t)}}}function me(e){let t,n,r=e[13]+"";return{c(){t=g("span"),n=$(r),w(t,"class","searchbox-results-label")},m(e,r){f(e,t,r),h(t,n)},p(e,t){32&t&&r!==(r=e[13]+"")&&x(n,r)},d(e){e&&p(t)}}}function ge(e){let t,n=e[3].doc.snippet+"";return{c(){t=g("div"),w(t,"class","searchbox-results-snippet")},m(e,r){f(e,t,r),t.innerHTML=n},p(e,r){8&r&&n!==(n=e[3].doc.snippet+"")&&(t.innerHTML=n)},d(e){e&&p(t)}}}function $e(e){let t,n,r,o,i,s=e[2].more_on_this_page.replace("{count}",String(e[3].children.length))+"";return{c(){t=g("div"),n=g("button"),r=$(s),w(n,"type","button"),w(t,"class","searchbox-results-expand")},m(s,l){f(s,t,l),h(t,n),h(n,r),o||(i=b(n,"click",e[11]),o=!0)},p(e,t){12&t&&s!==(s=e[2].more_on_this_page.replace("{count}",String(e[3].children.length))+"")&&x(r,s)},d(e){e&&p(t),o=!1,i()}}}function ve(e){let t,n,r,o,i,s;const l=[he,de],c=[];function u(e,t){return e[4]?0:1}return n=u(e),r=c[n]=l[n](e),{c(){t=g("li"),r.c(),w(t,"class","searchbox-results-item"),_(t,"searchbox-results-item-expanded",e[0])},m(r,l){f(r,t,l),c[n].m(t,null),o=!0,i||(s=b(t,"click",e[6]),i=!0)},p(e,[o]){let i=n;n=u(e),n===i?c[n].p(e,o):(z(),X(c[i],1,1,(()=>{c[i]=null})),G(),r=c[n],r?r.p(e,o):(r=c[n]=l[n](e),r.c()),J(r,1),r.m(t,null)),1&o&&_(t,"searchbox-results-item-expanded",e[0])},i(e){o||(J(r),o=!0)},o(e){X(r),o=!1},d(e){e&&p(t),c[n].d(),i=!1,s()}}}function ye(e,t,n){let r;var o,i,s;let{expanded:l=!1}=t,{forceExpanded:c=!1}=t,{i18n:u}=t,{item:a}=t,{renderer:d=null}=t;const h=N();function f(){h("expand",a)}return e.$$set=e=>{"expanded"in e&&n(0,l=e.expanded),"forceExpanded"in e&&n(1,c=e.forceExpanded),"i18n"in e&&n(2,u=e.i18n),"item"in e&&n(3,a=e.item),"renderer"in e&&n(4,d=e.renderer)},e.$$.update=()=>{1800&e.$$.dirty&&n(5,r=Array.isArray(null===n(8,o=null==a?void 0:a.doc)||void 0===o?void 0:o.labels)?a.doc.labels:null===n(10,s=null===n(9,i=null==a?void 0:a.doc)||void 0===i?void 0:i.labels)||void 0===s?void 0:s.split(/[\,\;]/).filter((e=>!!e)))},[l,c,u,a,d,r,function(e){a.doc.link||(e.stopPropagation(),e.preventDefault(),h("click",a))},f,o,i,s,()=>f()]}const be=class extends Z{constructor(e){super(),Y(this,e,ye,ve,i,{expanded:0,forceExpanded:1,i18n:2,item:3,renderer:4})}};function we(e,t,n){const r=e.slice();return r[31]=t[n],r}function xe(e,t,n){const r=e.slice();return r[34]=t[n],r}function ke(e){let t,n,r;return n=new ue({props:{renderer:e[3].header,args:[e[4]]}}),{c(){t=g("div"),K(n.$$.fragment),w(t,"class","searchbox-results-header")},m(e,o){f(e,t,o),V(n,t,null),r=!0},p(e,t){const r={};8&t[0]&&(r.renderer=e[3].header),16&t[0]&&(r.args=[e[4]]),n.$set(r)},i(e){r||(J(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){e&&p(t),Q(n)}}}function _e(e){let t,n,r,o,i=e[7].length>2&&Ee(e),s=e[7].slice(1),l=[];for(let t=0;t<s.length;t+=1)l[t]=Se(xe(e,s,t));return{c(){t=g("div"),n=g("div"),r=g("ul"),i&&i.c(),o=v();for(let e=0;e<l.length;e+=1)l[e].c();w(n,"class","searchbox-results-categories-wrap"),w(t,"class","searchbox-results-categories")},m(e,s){f(e,t,s),h(t,n),h(n,r),i&&i.m(r,null),h(r,o);for(let e=0;e<l.length;e+=1)l[e].m(r,null)},p(e,t){if(e[7].length>2?i?i.p(e,t):(i=Ee(e),i.c(),i.m(r,o)):i&&(i.d(1),i=null),4225&t[0]){let n;for(s=e[7].slice(1),n=0;n<s.length;n+=1){const o=xe(e,s,n);l[n]?l[n].p(o,t):(l[n]=Se(o),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&p(t),i&&i.d(),m(l,e)}}}function Ee(e){let t,n,r,o,i,s=e[1].all+"";return{c(){t=g("li"),n=g("span"),r=$(s),w(n,"role","button"),_(n,"active","*"===e[0])},m(s,l){f(s,t,l),h(t,n),h(n,r),o||(i=b(n,"click",e[20]),o=!0)},p(e,t){2&t[0]&&s!==(s=e[1].all+"")&&x(r,s),1&t[0]&&_(n,"active","*"===e[0])},d(e){e&&p(t),o=!1,i()}}}function Se(e){let t,n,r,o,i,s,l=e[34]+"";function c(){return e[21](e[34])}return{c(){t=g("li"),n=g("span"),r=$(l),o=v(),w(n,"role","button"),_(n,"active",e[0]===e[34])},m(e,l){f(e,t,l),h(t,n),h(n,r),h(t,o),i||(s=b(n,"click",c),i=!0)},p(t,o){e=t,128&o[0]&&l!==(l=e[34]+"")&&x(r,l),129&o[0]&&_(n,"active",e[0]===e[34])},d(e){e&&p(t),i=!1,s()}}}function Te(e){let t,n,r=e[11],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ne(we(e,r,t));const i=e=>X(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);f(e,t,r),n=!0},p(e,n){if(27722&n[0]){let s;for(r=e[11],s=0;s<r.length;s+=1){const i=we(e,r,s);o[s]?(o[s].p(i,n),J(o[s],1)):(o[s]=Ne(i),o[s].c(),J(o[s],1),o[s].m(t.parentNode,t))}for(z(),s=r.length;s<o.length;s+=1)i(s);G()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)J(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)X(o[e]);n=!1},d(e){m(o,e),e&&p(t)}}}function Le(t){let n,r,o=t[1].no_results+"";return{c(){n=g("li"),r=$(o),w(n,"class","searchbox-results-text")},m(e,t){f(e,n,t),h(n,r)},p(e,t){2&t[0]&&o!==(o=e[1].no_results+"")&&x(r,o)},i:e,o:e,d(e){e&&p(n)}}}function Me(t){let n,r,o=t[1].loading+"";return{c(){n=g("li"),r=$(o),w(n,"class","searchbox-results-text")},m(e,t){f(e,n,t),h(n,r)},p(e,t){2&t[0]&&o!==(o=e[1].loading+"")&&x(r,o)},i:e,o:e,d(e){e&&p(n)}}}function Ne(e){let t,n;return t=new be({props:{item:e[31],i18n:e[1],forceExpanded:e[10],renderer:e[3]?.item,expanded:e[6].includes(e[31].ref)}}),t.$on("click",e[22]),t.$on("expand",e[23]),{c(){K(t.$$.fragment)},m(e,r){V(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.item=e[31]),2&n[0]&&(r.i18n=e[1]),1024&n[0]&&(r.forceExpanded=e[10]),8&n[0]&&(r.renderer=e[3]?.item),2112&n[0]&&(r.expanded=e[6].includes(e[31].ref)),t.$set(r)},i(e){n||(J(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){Q(t,e)}}}function Ae(e){let t,n,r,o,i,s=e[1].load_more+"";return{c(){t=g("li"),n=g("button"),r=$(s),w(n,"type","button"),w(t,"class","searchbox-results-load-more")},m(s,l){var c;f(s,t,l),h(t,n),h(n,r),o||(i=b(n,"click",(c=e[24],function(e){return e.preventDefault(),c.call(this,e)})),o=!0)},p(e,t){2&t[0]&&s!==(s=e[1].load_more+"")&&x(r,s)},d(e){e&&p(t),o=!1,i()}}}function Ie(e){let t,n,r;return n=new ue({props:{renderer:e[3].footer,args:[e[4]]}}),{c(){t=g("div"),K(n.$$.fragment),w(t,"class","searchbox-results-footer")},m(e,o){f(e,t,o),V(n,t,null),r=!0},p(e,t){const r={};8&t[0]&&(r.renderer=e[3].footer),16&t[0]&&(r.args=[e[4]]),n.$set(r)},i(e){r||(J(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){e&&p(t),Q(n)}}}function Ce(e){let t,n,r,o,i,s,l,c,u,a,d,m,$=e[3]?.header&&ke(e),x=e[7]?.length>1&&_e(e);const k=[Me,Le,Te],_=[];function E(e,t){return e[2]?0:e[8]?.length?e[11]?2:-1:1}~(i=E(e))&&(s=_[i]=k[i](e));let S=e[8]?.length>e[5]&&Ae(e),T=e[3]?.footer&&Ie(e);return{c(){$&&$.c(),t=v(),x&&x.c(),n=v(),r=g("div"),o=g("ul"),s&&s.c(),l=v(),S&&S.c(),c=v(),T&&T.c(),u=y(),w(r,"class","searchbox-results-items")},m(s,p){$&&$.m(s,p),f(s,t,p),x&&x.m(s,p),f(s,n,p),f(s,r,p),h(r,o),~i&&_[i].m(o,null),h(o,l),S&&S.m(o,null),e[25](r),f(s,c,p),T&&T.m(s,p),f(s,u,p),a=!0,d||(m=b(r,"scroll",e[26]),d=!0)},p(e,r){e[3]?.header?$?($.p(e,r),8&r[0]&&J($,1)):($=ke(e),$.c(),J($,1),$.m(t.parentNode,t)):$&&(z(),X($,1,1,(()=>{$=null})),G()),e[7]?.length>1?x?x.p(e,r):(x=_e(e),x.c(),x.m(n.parentNode,n)):x&&(x.d(1),x=null);let c=i;i=E(e),i===c?~i&&_[i].p(e,r):(s&&(z(),X(_[c],1,1,(()=>{_[c]=null})),G()),~i?(s=_[i],s?s.p(e,r):(s=_[i]=k[i](e),s.c()),J(s,1),s.m(o,l)):s=null),e[8]?.length>e[5]?S?S.p(e,r):(S=Ae(e),S.c(),S.m(o,null)):S&&(S.d(1),S=null),e[3]?.footer?T?(T.p(e,r),8&r[0]&&J(T,1)):(T=Ie(e),T.c(),J(T,1),T.m(u.parentNode,u)):T&&(z(),X(T,1,1,(()=>{T=null})),G())},i(e){a||(J($),J(s),J(T),a=!0)},o(e){X($),X(s),X(T),a=!1},d(o){$&&$.d(o),o&&p(t),x&&x.d(o),o&&p(n),o&&p(r),~i&&_[i].d(),S&&S.d(),e[25](null),o&&p(c),T&&T.d(o),o&&p(u),d=!1,m()}}}function De(e,t,n){let r,o,i;var s;let{category:l=null}=t,{i18n:c}=t,{loading:u=!1}=t,{renderers:a=null}=t,{result:d=null}=t;const h=N();let f,p=!1,m=10,g=[],$=!1;function v(e){h("category",e)}function y(e){h("selection",e)}function b(e){g.includes(e.ref)?n(6,g=g.filter((t=>t!==e.ref))):n(6,g=[...g,e.ref])}function w(){const e=(null==f?void 0:f.scrollTop)>5;e!==p&&(p=e),(null==f?void 0:f.scrollTop)+(null==f?void 0:f.clientHeight)>=(null==f?void 0:f.scrollHeight)-50&&x()}function x(){n(5,m+=10)}return L((()=>{requestAnimationFrame((()=>{w()}))})),e.$$set=e=>{"category"in e&&n(0,l=e.category),"i18n"in e&&n(1,c=e.i18n),"loading"in e&&n(2,u=e.loading),"renderers"in e&&n(3,a=e.renderers),"result"in e&&n(4,d=e.result)},e.$$.update=()=>{524304&e.$$.dirty[0]&&n(7,r=null===n(19,s=null==d?void 0:d.items)||void 0===s?void 0:s.reduce(((e,t)=>(t.doc.category&&!e.includes(t.doc.category)&&e.push(t.doc.category),e)),["*"])),128&e.$$.dirty[0]&&(2===(null==r?void 0:r.length)?n(0,l=r[1]):1!==(null==r?void 0:r.length)&&(null==r?void 0:r.includes(l))||n(0,l="*")),81&e.$$.dirty[0]&&n(8,o=function(e,t,r){const o="*"===l?e:null==e?void 0:e.filter((e=>e.doc.category===l));return n(10,$=1===(null==o?void 0:o.length)),null==o?void 0:o.reduce(((e,t)=>{var n;return e.push(t),(null===(n=t.children)||void 0===n?void 0:n.length)&&($||g.includes(t.ref))&&e.push(...t.children),e}),[])}(null==d?void 0:d.items)),288&e.$$.dirty[0]&&n(11,i=null==o?void 0:o.slice(0,m))},[l,c,u,a,d,m,g,r,o,f,$,i,v,y,b,w,x,function(){f&&n(9,f.scrollTop=0,f)},function(e,t="focus"){const n=[].slice.call(f.querySelectorAll("a[tabindex]"));let r=f.querySelector("a:hover, a."+t);r||(e=0,r=n[0]);const o=Math.max(0,Math.min(n.length-1,n.indexOf(r)+e)),i=n[o];null==r||r.classList.remove(t),i.classList.add(t);const s=i.getAttribute("data-ref"),l=s&&d.items.find((e=>e.ref===s));l&&h("selection",l),i.scrollIntoView({behavior:"smooth"})},s,()=>v("*"),e=>v(e),e=>y(e.detail),e=>b(e.detail),()=>x(),function(e){I[e?"unshift":"push"]((()=>{f=e,n(9,f)}))},()=>w()]}const je=class extends Z{constructor(e){super(),Y(this,e,De,Ce,i,{category:0,i18n:1,loading:2,renderers:3,result:4,scrollToTop:17,navigateItems:18},null,[-1,-1])}get scrollToTop(){return this.$$.ctx[17]}get navigateItems(){return this.$$.ctx[18]}},He={all:"All",loading:"Loading...",load_more:"Load more",more_on_this_page:"{count} more on this page",no_results:"No results found."};function qe(e,t){let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}}function Oe(e){let t,n,r={anchor:e[0].anchor||e[5],align:e[0].align,width:e[0].width,$$slots:{default:[We]},$$scope:{ctx:e}};return t=new se({props:r}),e[16](t),{c(){K(t.$$.fragment)},m(e,r){V(t,e,r),n=!0},p(e,n){const r={};33&n[0]&&(r.anchor=e[0].anchor||e[5]),1&n[0]&&(r.align=e[0].align),1&n[0]&&(r.width=e[0].width),469&n[0]|1024&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(J(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(n){e[16](null),Q(t,n)}}}function We(e){let t,n,r;function o(t){e[13](t)}let i={renderers:e[0].renderers,i18n:e[9],loading:e[6],result:e[0].suggestions?e[8]:e[7]};return void 0!==e[2]&&(i.category=e[2]),t=new je({props:i}),e[12](t),I.push((()=>function(e,t,n){const r=e.$$.props.category;void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(t,0,o))),t.$on("category",e[14]),t.$on("selection",e[15]),{c(){K(t.$$.fragment)},m(e,n){V(t,e,n),r=!0},p(e,r){const o={};var i;1&r[0]&&(o.renderers=e[0].renderers),64&r[0]&&(o.loading=e[6]),385&r[0]&&(o.result=e[0].suggestions?e[8]:e[7]),!n&&4&r[0]&&(n=!0,o.category=e[2],i=()=>n=!1,D.push(i)),t.$set(o)},i(e){r||(J(t.$$.fragment,e),r=!0)},o(e){X(t.$$.fragment,e),r=!1},d(n){e[12](null),Q(t,n)}}}function Be(e){let t,n,r=e[1]&&Oe(e);return{c(){r&&r.c(),t=y()},m(e,o){r&&r.m(e,o),f(e,t,o),n=!0},p(e,n){e[1]?r?(r.p(e,n),2&n[0]&&J(r,1)):(r=Oe(e),r.c(),J(r,1),r.m(t.parentNode,t)):r&&(z(),X(r,1,1,(()=>{r=null})),G())},i(e){n||(J(r),n=!0)},o(e){X(r),n=!1},d(e){r&&r.d(e),e&&p(t)}}}const Re="index";function Ue(e,t,n){var r,o;let{options:i}=t;const s=qe((function(e){e?(v&&!k&&n(1,k=!0),i.suggestions?async function(e){n(6,b=!0),x=null,(i.customSearch?i.customSearch(e,!0):E().then((()=>w.suggestions(Re,e)))).then((e=>{n(8,m=q(e))})).finally((()=>{n(6,b=!1)}))}(e):_(e)):(n(7,p=null),k&&n(1,k=!1))}),150),l=qe((function(){requestAnimationFrame((()=>{a&&k&&a.position()}))}),10),c=(null===(o=null===(r=document.currentScript)||void 0===r?void 0:r.getAttribute("src"))||void 0===o?void 0:o.replace(/\/[^\/]$/,""))||"",u=i.worker||`${c}/searchbox.worker.min.js`;let a,d,h,f,p,m,g,$="*",v=!1,y=Object.assign({},He,i.strings||{}),b=!1,w=new ne(u),x=null,k=!1;async function _(e){return n(6,b=!0),x=null,(i.customSearch?i.customSearch(e,!1):E().then((()=>w.search(Re,e,{limit:i.limit})))).then((e=>{n(2,$="*"),n(7,p=q(e)),g?g.$set({category:$,result:p}):requestAnimationFrame((()=>{d&&k&&d.scrollToTop(),l()}))})).finally((()=>{n(6,b=!1)}))}async function E(){if(!i.manifest)throw new Error("Manifest URL is not configured.");return w.ensureIndex(Re,{highlight:i.highlight,injectScripts:i.injectScripts,languages:i.languages,separator:i.separator,url:i.manifest})}function S(e){n(2,$=e),d&&k&&d.scrollToTop(),g&&g.$set({category:$})}function T(){k&&l()}function N(e){e.preventDefault(),_(f.value.trim())}function A(){v=!1,requestAnimationFrame((()=>{v||n(1,k=!1)}))}function C(){v=!0,E(),(b||(null==p?void 0:p.items))&&setTimeout((()=>{v&&n(1,k=!0)}),i.dropdownDelay||0)}function D(e){var t,n;"Enter"===e.key?(null===(t=null==x?void 0:x.doc)||void 0===t?void 0:t.link)?location.assign(null===(n=null==x?void 0:x.doc)||void 0===n?void 0:n.link):(_(f.value.trim()),f.blur()):"Escape"===e.key?v&&(e.preventDefault(),f.blur()):"ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey?(e.preventDefault(),null==d||d.navigateItems(-1)):"ArrowDown"===e.key||"Tab"===e.key?(e.preventDefault(),null==d||d.navigateItems(1)):"Shift"===e.key?e.preventDefault():s(f.value.trim())}function j(){s(f.value.trim())}function H(e){i.suggestions?(n(5,f.value=e.doc.suggestion||e.doc.title,f),f.setSelectionRange(f.value.length,f.value.length)):x=e}function q(e){return i.transform&&(e.items=e.items.map((t=>(t.doc=i.transform(t.doc,t,e),t)))),i.groupBy&&(e=function(e){const t=e.items.reduce(((e,t)=>{const n="function"==typeof i.groupBy?i.groupBy(t.doc):t.doc[i.groupBy];return e.set(n,[...e.get(n)||[],t]),e}),new Map);return e.items=[...t.values()].reduce(((e,t)=>(e.push(Object.assign(Object.assign({},t[0]),{children:t.slice(1)})),e)),[]).sort(((e,t)=>{var n,r;return(null===(n=e.children)||void 0===n?void 0:n.length)>(null===(r=t.children)||void 0===r?void 0:r.length)?-1:1})),e}(e)),e}return M((()=>{document.removeEventListener("scroll",T),f.removeEventListener("focus",C),f.removeEventListener("blur",A),f.removeEventListener("input",j),f.removeEventListener("keydown",D),h&&h.removeEventListener("submit",N),g&&g.$destroy(),w.destroyIndex(Re)})),L((()=>{n(5,f=i.input),h=f.closest("form"),document.addEventListener("scroll",T),f.addEventListener("focus",C),f.addEventListener("blur",A),f.addEventListener("input",j),f.addEventListener("keydown",D),h&&h.addEventListener("submit",N),i.results&&(n(0,i.results.innerHTML="",i),g=new je({target:i.results,props:{category:$,i18n:y}}),g.$on("category",(e=>{S(e.detail)})))})),e.$$set=e=>{"options"in e&&n(0,i=e.options)},e.$$.update=()=>{2&e.$$.dirty[0]&&k&&l()},[i,k,$,a,d,f,b,p,m,y,S,H,function(e){I[e?"unshift":"push"]((()=>{d=e,n(4,d)}))},function(e){$=e,n(2,$)},e=>S(e.detail),e=>H(e.detail),function(e){I[e?"unshift":"push"]((()=>{a=e,n(3,a)}))}]}const Fe=class extends Z{constructor(e){super(),Y(this,e,Ue,Be,i,{options:0},null,[-1,-1])}};function Pe(e){let t;return{c(){t=g("p"),t.innerHTML="Full Node.js documentation, including code examples. Try searching for <b>crypto, http request, fs write</b>."},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function ze(e){let t;return{c(){t=g("p"),t.innerHTML="A sample of 1,000 summarized wikipedia pages related to Steve Jobs. Try searching for <b>steve, apple, iphone, california</b>."},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function Ge(t){let n,o,i,s,l,c,u,a,d,m,$,y,x,_;function E(e,t){return"wiki"===e[0]?ze:"nodejs"===e[0]?Pe:void 0}let S=E(t),T=S&&S(t);return{c(){n=g("div"),o=g("div"),o.innerHTML='<h1><a href="https://github.com/privian/searchbox">Searchbox</a> demo</h1> \n\t\t<p>Open-source alternative to Algolia search.</p>',i=v(),s=g("div"),l=g("p"),l.textContent="Select dataset:",c=v(),u=g("select"),a=g("option"),a.textContent="Wikipedia 1,000 articles (0.72MB)",d=g("option"),d.textContent="NodeJS Full Docs (5.2MB)",m=v(),T&&T.c(),$=v(),y=g("div"),y.innerHTML='<div class="svelte-c79pwt"><h1>Demo 1</h1> \n\t\t\t<h3>Floating search box</h3> \n\n\t\t\t<div class="search1"><div class="search1-input svelte-c79pwt"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg> \n\n\t\t\t\t\t<input type="search" id="input1" autocomplete="off" placeholder="Search..." class="svelte-c79pwt"/></div></div></div> \n\n\t\t<div class="svelte-c79pwt"><h1>Demo 2</h1> \n\t\t\t<h3>Suggestions with custom results element</h3> \n\n\t\t\t<div class="search2 svelte-c79pwt"><form><input type="search" id="input2" autocomplete="off" placeholder="Search..." class="svelte-c79pwt"/> \n\t\t\t\t\t<button type="submit">Search</button></form> \n\n\t\t\t\t<div class="search2-results svelte-c79pwt"><div id="results2"></div></div></div></div>',a.__value="wiki",a.value=a.__value,d.__value="nodejs",d.value=d.__value,void 0===t[0]&&q((()=>t[2].call(u))),w(s,"class","dataset svelte-c79pwt"),w(y,"class","flex svelte-c79pwt"),w(n,"class","demo svelte-c79pwt")},m(e,r){f(e,n,r),h(n,o),h(n,i),h(n,s),h(s,l),h(s,c),h(s,u),h(u,a),h(u,d),k(u,t[0]),h(s,m),T&&T.m(s,null),h(n,$),h(n,y),x||(_=[b(u,"change",t[2]),b(u,"change",t[3])],x=!0)},p(e,[t]){1&t&&k(u,e[0]),S!==(S=E(e))&&(T&&T.d(1),T=S&&S(e),T&&(T.c(),T.m(s,null)))},i:e,o:e,d(e){e&&p(n),T&&T.d(),x=!1,r(_)}}}function Je(e,t,n){let r,o,i,s="wiki";function l(){!function(){o&&o.$destroy();const e=document.querySelector("#input1");e.value="",o=new Fe({target:document.querySelector(".search1"),props:{options:{anchor:e.parentElement,groupBy:e=>{var t;return null===(t=null==e?void 0:e.link)||void 0===t?void 0:t.replace(/[\#\?].*$/g,"")},input:e,manifest:r,suggestions:!1,dropdownDelay:400,renderers:{footer(e){const t=null==e?void 0:e.items.reduce(((e,t)=>{var n;return e+((null===(n=t.children)||void 0===n?void 0:n.length)||0)}),e.items.length);return(e?`<div class="search1-poweredby"><div>${t} results &bull; ${e.time/1e3}s</div>`:"")+'<div>Powered by <a href="https://github.com/privian/searchbox">Searchbox</a></div></div>'}},worker:"dist/searchbox.worker.min.js"}}})}(),function(){i&&i.$destroy();const e=document.querySelector("#input2");e.value="",i=new Fe({target:document.querySelector(".search2"),props:{options:{input:e,manifest:r,results:document.querySelector("#results2"),suggestions:!0,worker:"dist/searchbox.worker.min.js"}}})}()}return L((()=>{l()})),e.$$.update=()=>{1&e.$$.dirty&&(r=`/searchbox/demo/sample/${s}.manifest.json`)},[s,l,function(){s=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,s)},()=>l()]}new class extends Z{constructor(e){super(),Y(this,e,Je,Ge,i,{})}}({target:document.body,props:{}})})();
//# sourceMappingURL=demo.min.js.map